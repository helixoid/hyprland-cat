#######################
#   ¢σηƒιg ℓσ¢αтιση   #
#######################

$config = $HOME/.config/hypr
$scripts = $config/scripts

########################
#   ¢σηƒιg єχтєηѕιση   #
########################

source = $config/env.conf
source = $config/themes/mocha.conf

#################
#   ναяιαвℓєѕ   #
#################

$mod = SUPER
$term = kitty
$launcher = wofi -n --show drun -k "/dev/null"
#$wall = swww init
$wall = swaybg --mode fit --image "$HOME/Pictures/Walls/10. gothick-amoled-girl.png"
$bar = waybar
$polkit-agent = /usr/lib/polkit-kde-authentication-agent-1
$change-wallpaper = $scripts/swww-randomizer
$blue-light-filter = wlsunset -t 4500 -S 8:00 -s 18:00 # NightLight from 6pm to 8am
$ss = grimblast --notify save screen $HOME/Pictures/Screenshots/$(date +"%Y-%m-%d-%T").png
$ss-active-window = grimblast --notify save active "$HOME/Pictures/Screenshots/$(date +"%Y-%m-%d-%T").png"
$ss-selected-area = grimblast --notify save area "$HOME/Pictures/Screenshots/$(date +"%Y-%m-%d-%T").png"

#################
#   αυтσѕтαят   #
#################

exec-once = $bar
exec-once = $wall
exec-once = $polkit-agent
exec-once = $blue-light-filter
exec-once = $scripts/xdg-portal-hyprland
exec-once = swayidle -w timeout 300 'swaylock' timeout 360 'hyprctl dispatch dpms off' resume 'hyprctl dispatch dpms on'

####################
#   кєу вιη∂ιηgѕ   #
####################

# αρρ รɦσƭ૮µƭร
bind = , Print, exec, $ss
bind = $mod, Print, exec, $ss-active-window
bind = $mod_SHIFT, Print, exec, $ss-selected-area
bind = $mod, W, exec, $change-wallpaper
bind = ALT, Return, exec, $term
bind = ALT, C, exec, kitty -e cava
bind = ALT, M, exec, kitty -e ncmpcpp
bind = ALT, I, exec, brave
bind = ALT, S, exec, brave "https://www.pw.live/study/batches/yakeen-neet-2-0-2024-601447/batch-overview?came_from=my-batches"
bind = ALT, F, exec, thunar
bind = ALT, Q, exec, qbittorrent
bind = ALT, T, exec, kitty -e peaclock
bind = ALT, P, exec, flatpak run io.github.alainm23.planify 

# ɱε∂เα & ɓ૨เɠɦƭɳεรร ૮σɳƭ૨σℓร
bindle = , XF86MonBrightnessUp, exec, brightnessctl set 5%+
bindle = , XF86MonBrightnessDown, exec, brightnessctl set 5%-

bindle = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bindle = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindl = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_SINK@ toggle

# ૮σɱρσรเƭσ૨
bind = $mod, V, togglefloating
bind = $mod, R, exec, $launcher
bind = $mod, P, pseudo
bind = $mod, J, togglesplit
bind = $mod, Q, killactive
bind = $mod, F, fullscreen
bind = $mod, E, exec, wlogout
bind = $mod, L, exec, swaylock

bind = $mod, left, movefocus, l
bind = $mod, right, movefocus, r
bind = $mod, up, movefocus, u
bind = $mod, down, movefocus, d

bind = $mod_SHIFT, left, movewindow, l
bind = $mod_SHIFT, right, movewindow, r
bind = $mod_SHIFT, up, movewindow, u
bind = $mod_SHIFT, down, movewindow, d

bind = $mod, 1, workspace, 1
bind = $mod, 2, workspace, 2
bind = $mod, 3, workspace, 3
bind = $mod, 4, workspace, 4
bind = $mod, 5, workspace, 5
bind = $mod, 6, workspace, 6
bind = $mod, 7, workspace, 7
bind = $mod, 8, workspace, 8
bind = $mod, 9, workspace, 9
bind = $mod, 0, workspace, 10

bind = $mod_SHIFT, 1, movetoworkspace, 1
bind = $mod_SHIFT, 2, movetoworkspace, 2
bind = $mod_SHIFT, 3, movetoworkspace, 3
bind = $mod_SHIFT, 4, movetoworkspace, 4
bind = $mod_SHIFT, 5, movetoworkspace, 5
bind = $mod_SHIFT, 6, movetoworkspace, 6
bind = $mod_SHIFT, 7, movetoworkspace, 7
bind = $mod_SHIFT, 8, movetoworkspace, 8
bind = $mod_SHIFT, 9, movetoworkspace, 9
bind = $mod_SHIFT, 0, movetoworkspace, 10

bind = $mod, mouse_down, workspace, e+1
bind = $mod, mouse_up, workspace, e-1

bindm = $mod, mouse:272, movewindow # left mouse button
#bindm = $mod, mouse:273, resizewindow # right mouse button
bindm = $mod_SHIFT, mouse:272, resizewindow
bind = $mod_SHIFT, R, submap, resize
submap = resize
binde = , right, resizeactive, 10 0
binde = , left, resizeactive, -10 0
binde = , up, resizeactive, 0 -10
binde = , down, resizeactive, 0 10
bind = , escape, submap, reset 
submap = reset

################
#   нαя∂ωαяє   #
################

input {
       kb_layout = us
       kb_variant =
       kb_model =
       kb_options =
       kb_rules =
       numlock_by_default = true
       follow_mouse = 1
       touchpad {
       natural_scroll = yes
       disable_while_typing = true
       drag_lock = false
       tap-to-click = true
       }
       sensitivity = 0
       accel_profile = adaptive
}

gestures {
       workspace_swipe = on
}
        
monitor = ,preferred,auto,auto

##################
#   αєѕтнєтι¢ѕ   #
##################

general {
       gaps_in = 5
       gaps_out = 10
       border_size = 3
       col.active_border = rgb(FF0000) rgb(FFA500) rgb(FFFF00) rgb(008000) rgb(0000FF) rgb(4B0082) rgb(EE82EE) 45deg # rainbow borders
       col.inactive_border = $peach
       no_border_on_floating = false # enable border on float window
       layout = dwindle
       no_cursor_warps = true
       cursor_inactive_timeout = 0
       no_focus_fallback = false 
       resize_on_border = false 
}

misc {
       disable_hyprland_logo = true
       disable_splash_rendering = true
       mouse_move_enables_dpms = true
       vfr = true
       vrr = 0
       animate_manual_resizes = true
       mouse_move_focuses_monitor = true
       enable_swallow = true
       swallow_regex = ^(kitty)$
       focus_on_activate = true
}

decoration {
       active_opacity = 1.0
       inactive_opacity = 1.0
       fullscreen_opacity = 1.0
       drop_shadow = false
       shadow_range = 4
       shadow_render_power = 3
       col.shadow = $base
       col.shadow_inactive = $base
       rounding = 15
       multisample_edges = true
       blur = true
       blur_size = 6
       blur_passes = 2
       blur_ignore_opacity = true
       blur_new_optimizations = true
       blurls = lockscreen
       blur_xray = false
}

animations {
       enabled = yes

       bezier = myBezier, 0.05, 0.9, 0.1, 1.0

       animation = windows, 1, 7, myBezier
       animation = windowsOut, 1, 7, myBezier, popin 80%
       animation = border, 1, 10, myBezier
       animation = borderangle, 1, 8, myBezier
       animation = fade, 1, 7, myBezier
       animation = workspaces, 1, 6, myBezier
}

dwindle {
       no_gaps_when_only = false
       pseudotile = true
       preserve_split = true
}

master {
       new_is_master = true
}

####################
#   ωιη∂σω яυℓєѕ   #
####################

# ωσ૨ҡรρα૮εร
windowrule = workspace 1, ^(kitty)$
windowrule = workspace 2, ^(firefox)$
windowrule = workspace 2, ^(brave-browser)$
windowrule = workspace 3, ^(thunar)$
windowrule = workspace 4, ^(mpv)$
windowrule = workspace 5, ^(org.telegram.desktop)$
windowrule = workspace 6, ^(org.qbittorrent.qBittorrent)$
windowrule = workspace 7, ^(org.kde.okular)$
windowrule = workspace 8, ^(subl)$
windowrule = workspace 9, ^(io.github.alainm23.planify)$
windowrule = workspace 9, ^(com.lakoliu.Furtherance)$

# σρα૮เƭყ 
windowrulev2 = opacity 0.70 0.70, class:^(org.qbittorrent.qBittorrent)$
windowrulev2 = opacity 0.70 0.70, class:^(thunar)$
windowrulev2 = opacity 0.70 0.70, class:^(file-roller)$
windowrulev2 = opacity 0.70 0.70, class:^(nwg-look)$
windowrulev2 = opacity 0.70 0.70, class:^(qt5ct)$
windowrulev2 = opacity 0.70 0.70, class:^(qt6ct)$
windowrulev2 = opacity 0.70 0.70, class:^(pavucontrol)$
windowrulev2 = opacity 0.70 0.70, class:^(org.kde.polkit-kde-authentication-agent-1)$
windowrulev2 = opacity 0.70 0.70, class:^(org.telegram.desktop)$
windowrulev2 = opacity 0.70 0.70, class:^(wofi)$

# ѕтαтє
windowrulev2 = float, class:^(org.kde.polkit-kde-authentication-agent-1)$
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = float, class:^(file-roller)$
windowrulev2 = float, title:^(Preferences)$
windowrulev2 = float, title:^(Volume Control)$
windowrulev2 = float, title:^(Picture-in-Picture)$
windowrulev2 = float, class:^(imv)$
windowrulev2 = float, class:^(file_progress)$
windowrulev2 = float, class:^(confirm)$
windowrulev2 = float, class:^(dialog)$
windowrulev2 = float, class:^(download)$
windowrulev2 = float, class:^(notification)$
windowrulev2 = float, class:^(error)$
windowrulev2 = float, class:^(confirmreset)$
windowrulev2 = float, title:^(Open File)$
windowrulev2 = float, title:^(Open Files)$
windowrulev2 = float, title:^(branchdialog)$
windowrulev2 = float, title:^(Confirm to replace files)
windowrulev2 = float, title:^(File Operation Progress)
windowrulev2 = float, class:^(file-roller)$
windowrulev2 = float, class:^(org.kde.polkit-kde-authentication-agent-1)$

# ρσรเƭเσɳ
windowrulev2 = center, class:^(download)$
windowrulev2 = center, class:^(imv)$
windowrulev2 = center, title:^(Open File)$
windowrulev2 = center, title:^(Open Files)$
windowrulev2 = center, title:^(Save File)$
windowrulev2 = center, title:^(Volume Control)$
windowrulev2 = center, title:^(File Manager Preferences)$
windowrulev2 = float, title:^(ncmpcpp)$
windowrulev2 = move 15 81, title:^(ncmpcpp)$
windowrulev2 = float, title:^(cava)$
windowrulev2 = move 951 81, title:^(cava)$
windowrulev2 = float, title:^(peaclock)$
windowrulev2 = move 951 406, title:^(peaclock)$

# รเƶε
windowrulev2 = size 800 600, class:^(download)$
windowrulev2 = size 800 600, title:^(Open File)$
windowrulev2 = size 800 600, title:^(Save File)$
windowrulev2 = size 800 600, class:^(imv)$
windowrulev2 = size 800 600, title:^(Volume Control)$
windowrulev2 = size 800 800, title:^(File Manager Preferences)$
windowrulev2 = size 400 275, title:^(cava)$
windowrulev2 = size 400 275, title:^(peaclock)$
windowrulev2 = size 600 600, title:^(ncmpcpp)$

# เ∂ℓε & รℓεερ เɳɦเɓเƭเσɳ
windowrulev2 = idleinhibit focus, class:^(mpv)$
windowrulev2 = idleinhibit fullscreen, class:^(brave-browser)$
windowrulev2 = idleinhibit focus, class:^(org.kde.okular)$

# אωαყℓαɳ∂ ѵเ∂εσɓ૨เ∂ɠε
windowrulev2 = opacity 0.0 override 0.0 override, class:^(xwaylandvideobridge)$
windowrulev2 = noanim, class:^(xwaylandvideobridge)$
windowrulev2 = nofocus, class:^(xwaylandvideobridge)$
windowrulev2 = noinitialfocus, class:^(xwaylandvideobridge)$       

# ραƭ૨εσɳ ωαƭ૮ɦ αℓσɳɠร
windowrulev2 = float, class:^(mpv)$
windowrulev2 = pin, class:^(mpv)$
windowrulev2 = size 450 300, class:^(mpv)$
windowrulev2 = move 460 464, class:^(mpv)$
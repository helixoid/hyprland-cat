{"version":3,"file":"UserInterface-e543c0b2.js","sources":["../../src/components/Modal/Settings/UserInterface.svelte"],"sourcesContent":["<script>\n  import Header from './Header.svelte';\n  import Button from '~components/Button';\n  import InputMultiple from '~components/InputMultiple';\n  import Checkbox from '~components/Checkbox';\n  import Select from '~components/Select';\n  import {\n    modals,\n    alerts,\n    uiColumns,\n    paths,\n    darkMode,\n    switchSpeedColors,\n    timeConfig,\n    tableHeaderConfig,\n  } from '~helpers/stores';\n  import { orderable } from '~helpers/actions';\n\n  const newColumns = JSON.parse(JSON.stringify($uiColumns));\n  let newPaths = [];\n  let newSwitchSpeedColors = $switchSpeedColors;\n  let newTimeConfig = $timeConfig;\n  let newTableHeaderConfig = $tableHeaderConfig;\n  const configuredDarkMode = darkMode.configuredValue;\n  let newDarkMode = $configuredDarkMode;\n\n  const pathsPromise = paths.init().then(() => {\n    newPaths = [...$paths];\n  });\n\n  const darkModeOptions = [\n    { label: 'Auto', value: 'auto' },\n    { label: 'Enabled', value: 'enabled' },\n    { label: 'Disabled', value: 'disabled' },\n  ];\n\n  const handleSubmit = () => {\n    try {\n      uiColumns.set(newColumns);\n      paths.set(newPaths);\n      switchSpeedColors.set(newSwitchSpeedColors);\n      timeConfig.set(newTimeConfig);\n      tableHeaderConfig.set(newTableHeaderConfig);\n      darkMode.set(newDarkMode);\n      alerts.add('Succesfully saved user interface settings');\n    } catch (e) {\n      console.error(e);\n      alerts.add(\n        'Failed saving user interface settings, please try again',\n        'negative'\n      );\n    }\n  };\n\n  const handleColumnDrop = (sorting) => {\n    newColumns.sort((a, b) => sorting.indexOf(a.id) - sorting.indexOf(b.id));\n  };\n</script>\n\n{#await pathsPromise then}\n  <form on:submit|preventDefault=\"{handleSubmit}\">\n    <Header text=\"Color scheme\" />\n    <div class=\"list\">\n      <Select\n        options=\"{darkModeOptions}\"\n        on:change=\"{(event) => (newDarkMode = event.detail)}\"\n        value=\"{newDarkMode}\"\n        direction=\"below\"\n        label=\"Dark mode\"\n      />\n    </div>\n\n    <div class=\"list\">\n      <Checkbox\n        label=\"Switch speed colors\"\n        hint=\"This will switch the upload and download colors. Originally green for download and blue for upload.\"\n        bind:checked=\"{newSwitchSpeedColors}\"\n      />\n    </div>\n\n    <Header text=\"Format\" />\n    <div class=\"list\">\n      <Checkbox\n        label=\"24-hour notation\"\n        hint=\"Will represent time with 24 hours if enabled and 12 hours if disabled\"\n        bind:checked=\"{newTimeConfig}\"\n      />\n    </div>\n\n    <div class=\"list\">\n      <Checkbox\n        label=\"Wrap overflowing text in table headers\"\n        hint=\"Will wrap text in header columns when enabled\"\n        bind:checked=\"{newTableHeaderConfig}\"\n      />\n    </div>\n\n    <Header text=\"Common paths\" />\n    <p class=\"hint\">\n      These paths will be shown behind the magnifier where you can select a\n      path.\n    </p>\n    <InputMultiple\n      bind:values=\"{newPaths}\"\n      pattern=\"^/.*\"\n      validationMessage=\"Path must be an absolute path.\"\n    />\n\n    <Header text=\"Torrent Columns\" />\n    <div class=\"list\">\n      {#each Object.values(newColumns) as column}\n        <div\n          class=\"column\"\n          draggable=\"true\"\n          use:orderable=\"{handleColumnDrop}\"\n          id=\"{column.id}\"\n        >\n          <span>{uiColumns.getColumnLabel(column.id)}</span>\n          <Checkbox bind:checked=\"{column.enabled}\" label=\"Enabled\" />\n        </div>\n      {/each}\n    </div>\n\n    <div class=\"buttons\">\n      <Button type=\"button\" priority=\"tertiary\" on:click=\"{modals.close}\">\n        Cancel\n      </Button>\n      <Button type=\"submit\" priority=\"primary\">Save settings</Button>\n    </div>\n  </form>\n{/await}\n\n<style>\n  form {\n    min-height: 100%;\n    display: flex;\n    flex-direction: column;\n    line-height: 1;\n    color: var(--color-modal-text);\n  }\n\n  form :global(.checkbox) :global(.indicator) {\n    background: var(--color-checkbox-background-dark);\n    border-color: var(--color-checkbox-border-dark);\n  }\n\n  .buttons {\n    flex-grow: 1;\n    align-items: flex-end;\n    display: flex;\n    justify-content: flex-end;\n    gap: 10px;\n  }\n\n  .list {\n    margin-bottom: 15px;\n    border-radius: 3px;\n    overflow: hidden;\n  }\n\n  .column {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background: var(--color-modal-user-interface-column-background);\n    border: 1px solid var(--color-modal-user-interface-column-border);\n    cursor: move;\n    height: 30px;\n    padding: 0 5px;\n    font-size: 13px;\n  }\n\n  .hint {\n    font-size: 12px;\n    line-height: 1.5;\n    margin-bottom: 8px;\n  }\n</style>\n"],"names":["ctx","Object","values","length","i","button0","$on","modals","close","insert","target","form","anchor","append","div0","div1","div2","div3","p","div4","div5","each_blocks","t0_value","uiColumns","getColumnLabel","id","enabled","checkbox_props","checked","attr","div","div_id_value","span","current","dirty","set_data","t0","checkbox_changes","info","newColumns","JSON","parse","stringify","$uiColumns","newPaths","newSwitchSpeedColors","$switchSpeedColors","newTimeConfig","$timeConfig","newTableHeaderConfig","$tableHeaderConfig","configuredDarkMode","darkMode","configuredValue","newDarkMode","$configuredDarkMode","pathsPromise","paths","init","then","$$invalidate","$paths","label","value","handleSubmit","set","switchSpeedColors","timeConfig","tableHeaderConfig","alerts","add","e","console","error","sorting","sort","a","b","indexOf","event","detail","$$self","$$","not_equal","column"],"mappings":"yrBAgEkBA,EAAe,SAEjBA,EAAW,6OAUgB,IAApBA,EAAoB,gBAApBA,EAAoB,qOASP,IAAbA,EAAa,gBAAbA,EAAa,kMAQO,IAApBA,EAAoB,gBAApBA,EAAoB,+KAUf,IAARA,EAAQ,eAARA,EAAQ,2GAOfC,OAAOC,OAAOF,EAAU,2BAA7BG,OAAIC,GAAA,oKAc+CC,GAAAC,IAAA,QAAAC,EAAOC,q3BAhEhEC,EAqEOC,EAAAC,EAAAC,sBAnELC,EAQMF,EAAAG,sBAEND,EAMMF,EAAAI,yCAGNF,EAMMF,EAAAK,sBAENH,EAMMF,EAAAM,yCAGNJ,EAGIF,EAAAO,oDAQJL,EAYMF,EAAAQ,iEAENN,EAKMF,EAAAS,sEApEyBpB,EAAY,8CAM/BA,EAAW,kDAUJA,EAAoB,gEASpBA,EAAa,iEAQbA,EAAoB,oEAUvBA,EAAQ,mDAOfC,OAAOC,OAAOF,EAAU,aAA7BG,OAAIC,GAAA,EAAA,mHAAJD,OAAIC,EAAAiB,GAAAlB,OAAAC,GAAA,oVAAJD,OAAIC,GAAA,6dAOKkB,EAAAC,EAAUC,eAAexB,MAAOyB,IAAE,oEACF,IAAdzB,MAAO0B,UAAPC,EAAAC,QAAA5B,MAAO0B,wLAH3BG,EAAAC,EAAA,KAAAC,EAAA/B,MAAOyB,YAJdhB,EAQMC,EAAAoB,EAAAlB,GAFJC,EAAkDiB,EAAAE,+DAHlChC,EAAgB,0BAGzBiC,GAAA,EAAAC,IAAAZ,KAAAA,EAAAC,EAAUC,eAAexB,MAAOyB,IAAE,KAAAU,EAAAC,EAAAd,6BAChBe,EAAAT,QAAA5B,MAAO0B,mCAH3BO,GAAA,EAAAC,GAAAH,KAAAA,EAAA/B,MAAOyB,oJASoD,8EAG3B,mNApEvCzB,EAAY,GAAAsC,6ZAzCZC,EAAaC,KAAKC,MAAMD,KAAKE,UAAUC,QACzCC,EAAQ,GACRC,EAAuBC,EACvBC,EAAgBC,EAChBC,EAAuBC,QACrBC,EAAqBC,EAASC,sCAChC,IAAAC,EAAcC,EAEZ,MAAAC,EAAeC,EAAMC,OAAOC,MAAI,KACpCC,EAAA,EAAAhB,MAAeiB,GAAM,2BAGF,CACjB,CAAAC,MAAO,OAAQC,MAAO,QACtB,CAAAD,MAAO,UAAWC,MAAO,WACzB,CAAAD,MAAO,WAAYC,MAAO,aAGZC,SAEdzC,EAAU0C,IAAI1B,GACdkB,EAAMQ,IAAIrB,GACVsB,EAAkBD,IAAIpB,GACtBsB,EAAWF,IAAIlB,GACfqB,EAAkBH,IAAIhB,GACtBG,EAASa,IAAIX,GACbe,EAAOC,IAAI,mDACJC,GACPC,QAAQC,MAAMF,GACdF,EAAOC,IACL,0DACA,cAKoBI,IACxBnC,EAAWoC,MAAM,CAAAC,EAAGC,IAAMH,EAAQI,QAAQF,EAAEnD,IAAMiD,EAAQI,QAAQD,EAAEpD,KAAE,EAUrDsD,GAAWnB,EAAA,EAAAN,EAAcyB,EAAMC,oBAW7BnC,EAAoBkB,sBASpBhB,EAAagB,sBAQbd,EAAoBc,sBAUvBnB,EAAQmB,wBAeOkB,EAAAC,GAAAC,UAAAC,EAAO1D,QAAOqC,KAAdqB,EAAO1D,QAAOqC"}